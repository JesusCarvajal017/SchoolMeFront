<header tuiHeader>
    <h1 tuiTitle>
        Person
        <!-- <span tuiSubtitle>Subtitle</span> -->
    </h1>
    <aside tuiAccessories>
      <div tuiAppearance="secondary" tuiButtonGroup>
        <a class="btn-add" routerLink="/dashboard/person/crear">
          <mat-icon>add_circle</mat-icon>
          Add new register
        </a>
      </div>
    </aside>
</header>
  <app-listado-generico [elements]="persons">
    <ng-content contenido>
        <table class="table table-hover ">
            <thead>
              <tr>
                <th>N°</th>
                <th>Name</th>
                <th>Last Nam</th>
                <th>Email</th>
                <th>Age</th>
                <!-- <th>Fecha</th> -->
                <th>Status</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              @for (item of persons; track $index) {
                  <tr [ngClass]="{'': item.status == 1 , 'table-danger': item.status == 0 }">
                      <th scope="row">{{ $index + 1  }}</th>
                      <td scope="row">{{ item.name }}</td>
                      <td scope="row">{{ item.lastName }}</td>
                      <td scope="row">{{ item.email }}</td>
                      <td scope="row">{{ item.age }}</td>
          

                      <td><mat-slide-toggle [checked]="item.status === 1" (change)="logical($event, item.id);"></mat-slide-toggle></td>
                      <td>
                        <app-autorizado rol="admin">
                            <ng-content autorizado>
                              <a mat-button routerLink="/dashboard/person/editar/{{ item.id }}">
                                <mat-icon>edit</mat-icon>
                              </a>
                              <button mat-button 
                                [swal]="{title: 'Confirmacion', text: '¿Deseas borrar este registro?', showCancelButton: true}"
                              (confirm)="deleteRegister(item.id)" >
                                <mat-icon>delete</mat-icon>
                              </button>
                            </ng-content>
                        </app-autorizado>
                      </td>
                  </tr>
              }
            </tbody>
          
        </table>
    </ng-content>
  </app-listado-generico>